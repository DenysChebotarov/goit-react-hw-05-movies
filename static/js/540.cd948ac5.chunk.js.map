{"version":3,"file":"static/js/540.cd948ac5.chunk.js","mappings":"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","sources":["components/Api/ApiMovie.jsx","webpack://react-homework-template/./src/components/searchForm/searchForm.module.css?20ec","components/searchForm/searchForm.jsx","components/MovieSearch/MovieSearch.jsx","components/Movies/Movies.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\n// const API_KEY = 'd01cb14d078d274ba849b0abb493e2d5'\n// async function ApiMovie(url = '', config = {}, key = '') {\n//     const response = await fetch(url,config,key);\n//     return response.ok ? await response.json() : Promise.reject(new Error('not found'))\n// }\n\n// export function movieTrends() {\n//     return ApiMovie(`${BASE_URL}/trending/all/day?api_key=${API_KEY}`)\n// }\n\nexport async function trendsMovie() {\n    const options = {\n        method: 'GET',\n        headers: {\n          accept: 'application/json',\n          Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMDFjYjE0ZDA3OGQyNzRiYTg0OWIwYWJiNDkzZTJkNSIsInN1YiI6IjY0NmExYzAwMzNhMzc2MDExZWM0NDJlZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.a9YOBIa9NeyE2BW4snt3drWEbpKOMZG2b7EkSguIrHQ'\n        }\n      };\n      \n      return await fetch(`${BASE_URL}/trending/all/day?language=en-US`, options)\n        .then(response => response.json())\n        .catch(err => console.error(err));\n}\n\nexport async function searchMovie(query){\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMDFjYjE0ZDA3OGQyNzRiYTg0OWIwYWJiNDkzZTJkNSIsInN1YiI6IjY0NmExYzAwMzNhMzc2MDExZWM0NDJlZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.a9YOBIa9NeyE2BW4snt3drWEbpKOMZG2b7EkSguIrHQ'\n    }\n  };\n  \n  return await  fetch(`https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`, options)\n    .then(response => response.json())\n    \n    .catch(err => console.error(err));\n}\n\nexport async function searchMovieId(movieId){\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMDFjYjE0ZDA3OGQyNzRiYTg0OWIwYWJiNDkzZTJkNSIsInN1YiI6IjY0NmExYzAwMzNhMzc2MDExZWM0NDJlZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.a9YOBIa9NeyE2BW4snt3drWEbpKOMZG2b7EkSguIrHQ'\n    }\n  };\n  \n  return await fetch(`https://api.themoviedb.org/3/movie/${movieId}?language=en-US`, options)\n    .then(response => response.json())\n    // .catch(err => console.error(err));\n}\n\nexport async function searchCast(movieId){\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMDFjYjE0ZDA3OGQyNzRiYTg0OWIwYWJiNDkzZTJkNSIsInN1YiI6IjY0NmExYzAwMzNhMzc2MDExZWM0NDJlZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.a9YOBIa9NeyE2BW4snt3drWEbpKOMZG2b7EkSguIrHQ'\n    }\n  };\n  \n  return await fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`, options)\n    .then(response => response.json())\n    \n    .catch(err => console.error(err));\n}\n\nexport async function searchReviews(movieId){\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMDFjYjE0ZDA3OGQyNzRiYTg0OWIwYWJiNDkzZTJkNSIsInN1YiI6IjY0NmExYzAwMzNhMzc2MDExZWM0NDJlZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.a9YOBIa9NeyE2BW4snt3drWEbpKOMZG2b7EkSguIrHQ'\n    }\n  };\n  \n return await fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`, options)\n    .then(response => response.json())\n    \n    .catch(err => console.error(err));\n}","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"searchForm_searchbar__0xw5G\",\"searchForm\":\"searchForm_searchForm__zkBvU\",\"searchForm_button\":\"searchForm_searchForm_button__lhTAb\",\"searchForm_button_label\":\"searchForm_searchForm_button_label__OfoiI\",\"searchForm_input\":\"searchForm_searchForm_input__fY5k6\"};","import { useState } from 'react';\nimport { BsSearch } from 'react-icons/bs';\nimport PropTypes from 'prop-types';\nimport Notiflix from 'notiflix';\nimport css from './searchForm.module.css'\n\n// import css from './Searchbar.module.css'\n\nexport default function SearchBar({ onSubmit }) {\n    const [movieName, setMovieName] = useState('');\n  \n    const handleNameChange = event => {\n      setMovieName(event.currentTarget.value.toLowerCase());\n    };\n  \n    const handleSubmit = event => {\n      event.preventDefault();\n      if (movieName.trim() === '') {\n        Notiflix.Notify.failure('You have not entered anything');\n        return;\n      }\n      onSubmit(movieName);\n      setMovieName('');\n    };\n  \n    return (\n      <header className={css.searchbar}>\n        <form onSubmit={handleSubmit} className={css.searchForm} >\n          <input\n          className={css.searchForm_input}\n            type=\"text\"\n            name=\"name\"\n            value={movieName}\n            onChange={handleNameChange}\n            placeholder=\"Search movies\"\n          />\n          <button className={css.searchForm_button} type=\"submit\" >\n            <BsSearch />\n          </button>\n        </form>\n      </header>\n    );\n  }\n  SearchBar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n  \n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nexport default function MovieSearch({ data }) {\n  return (\n    <div>\n      <ul>\n        {data.map(item => (\n          <Link key={item.id} to={`${item.id}`}>\n            <li key={item.id}>{item.title ? item.title : item.name}</li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useState } from 'react'\nimport { useSearchParams } from \"react-router-dom\";\n\n\nimport { searchMovie } from \"components/Api/ApiMovie\";\nimport SearchBar from \"components/searchForm/searchForm\";\nimport MovieSearch from \"components/MovieSearch/MovieSearch\"\n\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  // const [movieName, setMovieName] = useState('')\n  \n\n  // const location = useLocation()\n  const [searchParams, setSearchParams] = useSearchParams();\n  const postQuery = searchParams.get('movie') || '';\n  console.log(movies);\n  useEffect(()=>{\n    if(postQuery === ''){\n      return;\n    }\n    searchMovie(postQuery).then(res=>{\n      if(res.results.length === 0){\nconsole.log('error');\n      }\n      setMovies(state=>[...res.results])\n    });\n  }, [postQuery])\n  // const updateQueryString = evt => {\n  //   if(evt.target.value === ''){\n  //     return setSearchParams({})\n  //   }\n \n  // }\n  const onSubmit = (query)=> {\nsetMovies([])\nsetSearchParams({ movie: query });\n  }\n\n  // const visibleMovies = movies.filter(movie => movie.includes(movieId));\n  return (\n    <div>\n      <SearchBar onSubmit={onSubmit}/>\n      {movies.length >0 && <MovieSearch data={movies}/>}\n      {/* <ul>\n        {visibleMovies.map(movie => {\n          return (\n            <Link key={movie} to={`${movie}`} state={{ from: location}}>\n              {movie}\n            </Link>\n          );\n        })}\n      </ul> */}\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["BASE_URL","trendsMovie","options","method","headers","accept","Authorization","fetch","then","response","json","catch","err","console","error","searchMovie","query","searchMovieId","movieId","searchCast","searchReviews","SearchBar","onSubmit","useState","movieName","setMovieName","className","css","event","preventDefault","trim","Notiflix","type","name","value","onChange","currentTarget","toLowerCase","placeholder","MovieSearch","data","map","item","Link","to","id","title","movies","setMovies","useSearchParams","searchParams","setSearchParams","postQuery","get","log","useEffect","res","results","length","state","movie"],"sourceRoot":""}